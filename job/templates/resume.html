<!DOCTYPE html>
<html>
{% include 'headtag.html' %}
<body style="font-family: Arial, sans-serif;margin: 20px;">

  <!-- Spinner Start -->
  <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>
<!-- Spinner End -->




  <form class="form">
    <h1 class="m-0 text-primary" style="position: absolute; top: 5; left: 30%; transform: translateX(-50%);">GurageJobs</h1>
    <h1 style="font-size: 24px;margin-bottom: 10px;color: #007bff;">CV</h1>


    <h2 style="font-size: 20px;margin-bottom: 10px;">Full Name</h2>
    <p style=" margin-bottom: 5px;">{{ user.first_name }} {{ user.last_name}}</p>
  <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">


    <h2 style="font-size: 20px;margin-bottom: 10px;">Email</h2>
    <p style=" margin-bottom: 5px;">{{ user.username }}</p>
  <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">


    <h2 style="font-size: 20px;margin-bottom: 10px;">Education</h2>
    <p style=" margin-bottom: 5px;">Degree: {{ user_profile.degree }}</p>
    <p style=" margin-bottom: 5px;">University or College: {{ user_profile.university }}</p>
    <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">

    
    <h2 style="font-size: 20px;margin-bottom: 10px;">Skills</h2>
    <p style=" margin-bottom: 5px;">{{ user_profile.skills }}</p>
    <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">



    <h2 style="font-size: 20px;margin-bottom: 10px;">Work Experience</h2>
    <p style=" margin-bottom: 5px;">{{ user_profile.experience }}</p>
    <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">



    
    <h2 style="font-size: 20px;margin-bottom: 10px;">About You</h2>
    <p style=" margin-bottom: 5px;">{{ user_profile.about_you }}</p>
    <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">



    
    <h2 style="font-size: 20px;margin-bottom: 10px;">Languages</h2>
    <p style=" margin-bottom: 5px;">{{ user_profile.languages }}</p>
    <hr style="height: 2px;background-color: #007bff;margin-top: 10px;margin-bottom: 10px;">

    <input  type="button" id="create_pdf" value="Generate CV" style="position: absolute; top: 0; right: 0;">

  </form>

   <!-- Footer Start -->
   {% include 'footer.html' %}
   <!-- Footer End -->

   <!-- Back to Top -->
   <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
</div>

<!-- JavaScript Libraries -->
{% include 'javascriptlibraries.html' %}
</body>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js"></script>  
<script>
$(document).ready(function () {  
    var form = $('.form'),  
    cache_width = form.width(),  
    a4 = [595.28, 841.89]; // for a4 size paper width and height  

    $('#create_pdf').on('click', function () {  
        $('body').scrollTop(0);  
        createPDF();  
    });  
    
    function createPDF() {  
        getCanvas().then(function (canvas) {  
            var  
             img = canvas.toDataURL("image/png"),  
             doc = new jsPDF({  
                 unit: 'px',  
                 format: 'a4'  
             });  
            doc.addImage(img, 'JPEG', 20, 20);  
            doc.save('techsolutionstuff.pdf');  
            form.width(cache_width);  
        });  
    }  
      
    function getCanvas() {  
        form.width((a4[0] * 1.33333) - 80).css('max-width', 'none');  
        return html2canvas(form, {  
            imageTimeout: 2000,  
            removeContainer: true  
        });  
    }
});
</script>
</html>


